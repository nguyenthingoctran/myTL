{% extends "main_layout.html" %}

{% block title %}Demo drapable{% endblock  %}

{% block style %}

  .testimonial-group {
    overflow-x: scroll;
    white-space: nowrap;
    overflow-y: hidden;
  }
  .testimonial-group > .row {
    display: inline-block;
    float: none;
  }

  @media screen and (max-width: 800px) {
    <!-- .testimonial-group {
      background: red;
      height: 200px;
    } -->
    body {
      background-color : blue;
    }
  }
{% endblock  %}

{% block breadcrumb %}
        <ol class="breadcrumb">
          <li class="breadcrumb-item">Home</li>
          <li class="breadcrumb-item">
            <a href="#">Feature</a>
          </li>
          <li class="breadcrumb-item active">Demo drapable</li>
        </ol>
{% endblock  %}

{% block content %}


<!-- ======================================================================== -->
<!-- ==================== Test draggable - droppable ======================== -->
<!-- ======================================================================== -->

<div class="card mx-4 h-75">
  <div class="card-header">
    Draggable
  </div>
  <div class="card-body">
    <!-- Khung chứa mỗi card nhỏ -->
    <div class="container-fluid">

    </div>
  </div>
  <div class="card-footer text-muted">
    2 days ago
  </div>
</div>

<script>
    // Lấy index của list 
    $(".card-body").sortable({
      start : function(event, ui){
        
        $(this).parent().parent().parent().parent().prevAll().find(".card-body").removeClass('connect-sortable').addClass('no-sort').css({'pointer-events':'none','opacity':'0.5'});        
      },
      sort : function(){
        $(".card-body").sortable("refresh");

        // Tọa độ của mouse
        
        $(window).mousemove(function (e) {
          var x = $(".testimonial-group").innerWidth() - 200,
              y = $(".testimonial-group").scrollLeft() + 50; 
          
          if ($('.alert').offset().left > x) {
              //Down
              $('.testimonial-group').animate({
                  scrollLeft: x // adjust number of px to scroll down
              }, 600);
          }else{
            $('.testimonial-group').animate({

            });      
          }
        });



      },
      stop : function(){
        $(this).parent().parent().parent().parent().prevAll().find(".card-body").removeClass('no-sort').addClass('connect-sortable').css({'pointer-events':'auto','opacity':'1'});
      },
      connectWith : '.connect-sortable',
      scroll: false,
    });

$(document).ready(function(){

});


</script>

{% endblock  %}